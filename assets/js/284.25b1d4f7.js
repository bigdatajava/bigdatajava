(window.webpackJsonp=window.webpackJsonp||[]).push([[284],{651:function(e,s,a){"use strict";a.r(s);var n=a(5),r=Object(n.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[e._v("#")]),e._v(" ç®€ä»‹")]),e._v(" "),s("p",[s("strong",[e._v("è¯´æ˜")])]),e._v(" "),s("p",[e._v("æœ¬æ–‡ç”¨ç¤ºä¾‹ä»‹ç»è§‚å¯Ÿè€…æ¨¡å¼çš„JDKå†™æ³•ã€‚")]),e._v(" "),s("p",[s("strong",[e._v("æœ¬å†™æ³•çš„ä¼˜ç¼ºç‚¹")])]),e._v(" "),s("p",[e._v("ä¼˜ç‚¹")]),e._v(" "),s("ol",[s("li",[e._v("æ¯”çº¯æ‰‹å†™ç¨å¾®ç®€å•ä¸€ç‚¹ã€‚")])]),e._v(" "),s("p",[e._v("ç¼ºç‚¹")]),e._v(" "),s("ol",[s("li",[e._v("éœ€è¦æ‰‹åŠ¨æ³¨å†Œè§‚å¯Ÿè€…ï¼Œä¸èƒ½è‡ªåŠ¨åœ°å»æ„ŸçŸ¥ã€‚")]),e._v(" "),s("li",[e._v("è§‚å¯Ÿè€…åªèƒ½æœ‰ä¸€ä¸ªJDKæŒ‡å®šçš„æ–¹æ³•ï¼šupdateï¼Œä¸èƒ½æ”¹ä¸ºå…¶ä»–åå­—ã€‚")]),e._v(" "),s("li",[e._v("ä¸èƒ½æ–¹ä¾¿åœ°æŒ‡å®šè§‚å¯Ÿè€…çš„æ‰§è¡Œé¡ºåºã€‚ï¼ˆä¸è¿‡è§‚å¯Ÿè€…ä¸­ä¸€èˆ¬ä¸éœ€è¦æŒ‡å®šé¡ºåºï¼‰")])]),e._v(" "),s("p",[s("strong",[e._v("JDKçš„è§‚å¯Ÿè€…æ¨¡å¼ç®€ä»‹")])]),e._v(" "),s("p",[e._v("åœ¨ Java ä¸­ï¼Œjava.util.Observable ç±»å’Œ java.util.Observer æ¥å£å®šä¹‰äº†è§‚å¯Ÿè€…æ¨¡å¼ï¼Œåªè¦å®ç°è¿™ä¸¤ä¸ªæ¥å£å°±å¯ä»¥ç¼–å†™è§‚å¯Ÿè€…æ¨¡å¼ã€‚")]),e._v(" "),s("ol",[s("li",[e._v("Observable")])]),e._v(" "),s("p",[e._v("Observable ç±»æ˜¯æŠ½è±¡ç›®æ ‡ç±»ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰ï¼Œå®ƒæœ‰ä¸€ä¸ª Vector é›†åˆæˆå‘˜å˜é‡ï¼Œç”¨äºä¿å­˜æ‰€æœ‰è¦é€šçŸ¥çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä¸‹é¢æ¥ä»‹ç»å®ƒæœ€é‡è¦çš„ 3 ä¸ªæ–¹æ³•ã€‚")]),e._v(" "),s("ul",[s("li",[e._v("void addObserver(Observer o) æ–¹æ³•ï¼šç”¨äºå°†æ–°çš„è§‚å¯Ÿè€…å¯¹è±¡æ·»åŠ åˆ°é›†åˆä¸­ã€‚")]),e._v(" "),s("li",[e._v("void notifyObservers(Object arg) æ–¹æ³•ï¼šè°ƒç”¨é›†åˆä¸­çš„æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡çš„ updateæ–¹æ³•ï¼Œé€šçŸ¥å®ƒä»¬æ•°æ®å‘ç”Ÿæ”¹å˜ã€‚é€šå¸¸è¶Šæ™šåŠ å…¥é›†åˆçš„è§‚å¯Ÿè€…è¶Šå…ˆå¾—åˆ°é€šçŸ¥ã€‚")]),e._v(" "),s("li",[e._v("void setChange() æ–¹æ³•ï¼šç”¨æ¥è®¾ç½®ä¸€ä¸ª boolean ç±»å‹çš„å†…éƒ¨æ ‡å¿—ï¼Œæ³¨æ˜ç›®æ ‡å¯¹è±¡å‘ç”Ÿäº†å˜åŒ–ã€‚å½“å®ƒä¸ºtrueæ—¶ï¼ŒnotifyObservers() æ‰ä¼šé€šçŸ¥è§‚å¯Ÿè€…ã€‚")])]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("Observer")])]),e._v(" "),s("p",[e._v("Observer æ¥å£æ˜¯æŠ½è±¡è§‚å¯Ÿè€…ï¼Œå®ƒç›‘è§†ç›®æ ‡å¯¹è±¡çš„å˜åŒ–ï¼Œå½“ç›®æ ‡å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§‚å¯Ÿè€…å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è°ƒç”¨ update æ–¹æ³•ï¼Œè¿›è¡Œç›¸åº”çš„å·¥ä½œã€‚")]),e._v(" "),s("h1",{attrs:{id:"å®ä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®ä¾‹"}},[e._v("#")]),e._v(" å®ä¾‹")]),e._v(" "),s("p",[e._v("æœ¬å¤„ä½¿ç”¨ä¸€ä¸ªè´´è¿‘çœŸå®åœºæ™¯çš„æ¡ˆä¾‹ï¼šè®¢å•å–æ¶ˆæ—¶ï¼Œè¦æœ‰ä¸€ç³»åˆ—æ“ä½œï¼Œæ¯”å¦‚ï¼šè´¦æˆ·ä¸šåŠ¡éœ€è¦ç»™ç”¨æˆ·é€€é’±ã€åº“å­˜ä¸šåŠ¡éœ€è¦ç»™å•†å“é€€å›æ•°é‡ã€‚")]),e._v(" "),s("p",[e._v("åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå–æ¶ˆè®¢å•å°±æ˜¯è¢«è§‚å¯Ÿè€…ï¼Œè´¦æˆ·ä¸šåŠ¡å’Œåº“å­˜ä¸šåŠ¡æ˜¯è§‚å¯Ÿè€…ã€‚")]),e._v(" "),s("p",[e._v("é¡¹ç›®ç»“æ„")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://404500.oss-cn-beijing.aliyuncs.com/picture/springboot/image-20230912174742578.png",alt:"image-20230912174742578"}})]),e._v(" "),s("h2",{attrs:{id:"ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç "}},[e._v("#")]),e._v(" ä»£ç ")]),e._v(" "),s("p",[s("strong",[e._v("æºç ä¸‹è½½")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://resource.skyofit.com/learn/resource/project/backend/design-pattern/observer/jdk.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("è¿™é‡Œ"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"ä¸šåŠ¡æ•°æ®ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡æ•°æ®ç±»"}},[e._v("#")]),e._v(" ä¸šåŠ¡æ•°æ®ç±»")]),e._v(" "),s("p",[e._v("å–æ¶ˆè®¢å•æ—¶ï¼Œä¸»é¢˜ä¼šå°†è¿™ä¸ªæ•°æ®ç»™åˆ°æ„Ÿå…´è¶£çš„è§‚å¯Ÿè€…ã€‚")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("package com.knife.designPattern.bo;\nimport lombok.Data;\n@Data\npublic class CancelOrderBO {\n    private String orderNo;\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h2",{attrs:{id:"ä¸»é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»é¢˜"}},[e._v("#")]),e._v(" ä¸»é¢˜")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("package com.knife.designPattern.jdk.subject;\nimport com.knife.designPattern.jdk.bo.CancelOrderBO;\nimport java.util.Observable;\npublic class CancelOrderSubject extends Observable {\n    public void process(CancelOrderBO cancelOrderBO) {\n        super.setChanged(); //changed  = true\n        super.notifyObservers(cancelOrderBO);\n    }\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("h2",{attrs:{id:"è§‚å¯Ÿè€…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§‚å¯Ÿè€…"}},[e._v("#")]),e._v(" è§‚å¯Ÿè€…")]),e._v(" "),s("p",[e._v("è´¦æˆ·ä¸šåŠ¡è§‚å¯Ÿè€…")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('package com.knife.designPattern.observer;\nimport java.util.Observable;\nimport java.util.Observer;\n/**\n * å…·ä½“è§‚å¯Ÿè€…: è´¦æˆ·ä¸šåŠ¡\n */\npublic class AccountCancelOrderObserver implements Observer {\n    @Override\n    public void update(Observable o, Object arg) {\n        System.out.println("è´¦æˆ·ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š" + arg);\n    }\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("p",[e._v("åº“å­˜ä¸šåŠ¡è§‚å¯Ÿè€…")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('package com.knife.designPattern.observer;\nimport java.util.Observable;\nimport java.util.Observer;\n/**\n * å…·ä½“è§‚å¯Ÿè€…: åº“å­˜ä¸šåŠ¡\n */\npublic class StorageCancelOrderObserver implements Observer {\n    @Override\n    public void update(Observable o, Object arg) {\n        System.out.println("åº“å­˜ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š" + arg);\n    }\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("h2",{attrs:{id:"ä¸»é¢˜æŒæœ‰è€…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»é¢˜æŒæœ‰è€…"}},[e._v("#")]),e._v(" ä¸»é¢˜æŒæœ‰è€…")]),e._v(" "),s("p",[e._v("åªæœ‰ä¸»é¢˜è¿˜ä¸è¡Œï¼Œéœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹å»è°ƒç”¨å®ƒï¼Œæ·»åŠ ä¸€ä¸ªä¸»é¢˜æŒæœ‰è€…")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("package com.knife.designPattern.subject;\nimport com.knife.designPattern.bo.CancelOrderBO;\nimport com.knife.designPattern.observer.AccountCancelOrderObserver;\nimport com.knife.designPattern.observer.StorageCancelOrderObserver;\npublic class SubjectHolder {\n    private static final CancelOrderSubject instance = init();\n    private SubjectHolder() {\n    }\n    private static CancelOrderSubject init() {\n        // åˆ›å»ºè¢«è§‚å¯Ÿè€…\n        CancelOrderSubject orderCancelSubject = new CancelOrderSubject();\n        // åˆ›å»ºè§‚å¯Ÿè€…\n        AccountCancelOrderObserver accountCancelOrderObserver =\n                new AccountCancelOrderObserver();\n        StorageCancelOrderObserver storageCancelOrderObserver =\n                new StorageCancelOrderObserver();\n        // æ·»åŠ è§‚å¯Ÿè€…ï¼Œè¿™æ ·è¢«è§‚å¯Ÿè€…æœ‰æ•°æ®æ—¶è§‚å¯Ÿè€…å°±èƒ½æ„ŸçŸ¥åˆ°\n        orderCancelSubject.addObserver(accountCancelOrderObserver);\n        orderCancelSubject.addObserver(storageCancelOrderObserver);\n        return orderCancelSubject;\n    }\n    public static void process(CancelOrderBO cancelOrderBO) {\n        instance.process(cancelOrderBO);\n    }\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br")])]),s("h2",{attrs:{id:"æµ‹è¯•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•"}},[e._v("#")]),e._v(" æµ‹è¯•")]),e._v(" "),s("p",[e._v("æµ‹è¯•ç±»")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('package com.knife.designPattern.controller;\nimport com.knife.designPattern.bo.CancelOrderBO;\nimport com.knife.designPattern.subject.SubjectHolder;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n@Api(tags = "è®¢å•")\n@RestController\n@RequestMapping("order")\npublic class OrderController {\n    @ApiOperation("å–æ¶ˆè®¢å•")\n    @PostMapping("cancel")\n    public String cancel(@RequestBody CancelOrderBO cancelOrderBO) {\n        SubjectHolder.process(cancelOrderBO);\n        return "success";\n    }\n}\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br")])]),s("p",[e._v("è®¿é—®æ¥å£")]),e._v(" "),s("p",[e._v("å¯åŠ¨é¡¹ç›®åï¼Œè®¿é—®Knife4jï¼ˆæ¥å£æ–‡æ¡£ï¼‰çš„åœ°å€ï¼šhttp://localhost:8080/doc.html")]),e._v(" "),s("p",[e._v("ï¼ˆå½“ç„¶ï¼Œä½ ç”¨postmanä¹Ÿå®Œå…¨å¯ä»¥ï¼‰")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://404500.oss-cn-beijing.aliyuncs.com/picture/springboot/image-20230912174856698.png",alt:"image-20230912174856698"}})]),e._v(" "),s("p",[e._v("ç»“æœ")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("åº“å­˜ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼šCancelOrderBO(orderNo=666)\nè´¦æˆ·ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼šCancelOrderBO(orderNo=666)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("â€‹\t\t\t\t\t\t\t\t\t[ 0](javascript:ğŸ˜‰")])])}),[],!1,null,null,null);s.default=r.exports}}]);