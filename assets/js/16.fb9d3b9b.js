(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{384:function(e,t,a){"use strict";a.r(t);var s=a(5),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"学习点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#学习点"}},[e._v("#")]),e._v(" 学习点")]),e._v(" "),t("p",[e._v("1，domain-XML互相组建构建\n2，feign以XML形式传输")]),e._v(" "),t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("项目名")]),e._v(" "),t("th",[e._v("描述")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("eureka-demo")]),e._v(" "),t("td",[e._v("eureka注册中心")])]),e._v(" "),t("tr",[t("td",[e._v("eureka-service")]),e._v(" "),t("td",[e._v("服务生产者")])]),e._v(" "),t("tr",[t("td",[e._v("feign-client")]),e._v(" "),t("td",[e._v("消费者")])])])]),e._v(" "),t("p",[t("a",{attrs:{href:"//download.csdn.net/download/baiofchao/11856544"}},[e._v("项目链接-CSDN")]),e._v(" "),t("a",{attrs:{href:"https://pan.baidu.com/s/1rFXp1E7RqutGY8qaJulyOg",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目链接-网盘"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"_1-引入依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-引入依赖"}},[e._v("#")]),e._v(" 1.引入依赖")]),e._v(" "),t("p",[e._v("项目中用到jackson解析XML以及组建XML")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("<dependency>\n     \t<groupId>com.fasterxml.jackson.dataformat</groupId>\n            <artifactId>jackson-dataformat-xml</artifactId>\n            <version>2.8.8</version>\n</dependency>\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])]),t("h2",{attrs:{id:"_2-思路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-思路"}},[e._v("#")]),e._v(" 2.思路")]),e._v(" "),t("p",[e._v("(1)要想以XML形式传输，首先需要先构建XML结构体，"),t("a",{attrs:{href:"https://blog.csdn.net/baiofchao/article/details/102525282",target:"_blank",rel:"noopener noreferrer"}},[e._v("domain注解构建XML"),t("OutboundLink")],1),e._v("\n(2)构建好XML结构体后，考虑feign传输XML，restful接口接收XML结构体的方法\n方法如下：\n示例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('@FeignClient("eureka-service")\npublic interface MemberFeign {\n\n\t@GetMapping(value = "/getUserList",produces = MediaType.APPLICATION_JSON_VALUE,consumes = MediaType.APPLICATION_XML_VALUE)\n\tpublic List<String> getOrderByUserList(Member member);\n\n\t@PostMapping(value = "/cov", consumes = { MediaType.APPLICATION_XML_VALUE }, produces = MediaType.APPLICATION_JSON_VALUE)\n\tpublic BuildEntity sendCovBody(@RequestBody BuildEntity buildEntity);\n\n}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br")])]),t("p",[e._v("如上示例中重点在于"),t("code",[e._v("consumes = { MediaType.APPLICATION_XML_VALUE }, produces = MediaType.APPLICATION_JSON_VALUE")])]),e._v(" "),t("table",[t("thead",[t("tr",[t("th"),e._v(" "),t("th")])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("consumes")]),e._v(" "),t("td",[e._v("表示调用服务eureka-service的接口 /cov接口，需要XML格式入参")])]),e._v(" "),t("tr",[t("td",[e._v("produces")]),e._v(" "),t("td",[e._v("表示调用服务 eureka-service的接口 /cov接口，返回格式时j son")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);