(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{634:function(a,e,t){"use strict";t.r(e);var s=t(1),n=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"cascadetype"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cascadetype"}},[a._v("#")]),a._v(" CascadeType")]),a._v(" "),e("h2",{attrs:{id:"_1-示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-示例"}},[a._v("#")]),a._v(" 1.示例")]),a._v(" "),e("h3",{attrs:{id:"_1-1-domain"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-domain"}},[a._v("#")]),a._v(" 1.1.domain")]),a._v(" "),e("p",[a._v("oneToMany关系\none的一方中加")]),a._v(" "),e("blockquote",[e("p",[a._v("@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)")])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('\t@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = "contract_id", referencedColumnName = "id")\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    private List<ContractItem> contractItems = new ArrayList<>();\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h3",{attrs:{id:"_2-cascadetype讲解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-cascadetype讲解"}},[a._v("#")]),a._v(" 2.CascadeType讲解")]),a._v(" "),e("p",[a._v("本示例中"),e("code",[a._v("CascadeType.PERSIST")]),a._v("是保存级联")]),a._v(" "),e("blockquote",[e("p",[a._v("CascadeType.REMOVE\nCascade remove operation，级联删除操作。\n删除当前实体时，与它有映射关系的实体也会跟着被删除。\nCascadeType.MERGE\nCascade merge operation，级联更新（合并）操作。\n当Student中的数据改变，会相应地更新Course中的数据。\nCascadeType.DETACH\nCascade detach operation，级联脱管/游离操作。\n如果你要删除一个实体，但是它有外键无法删除，你就需要这个级联权限了。它会撤销所有相关的外键关联。\nCascadeType.REFRESH\nCascade refresh operation，级联刷新操作。\n假设场景 有一个订单,订单里面关联了许多商品,这个订单可以被很多人操作,那么这个时候A对此订单和关联的商品进行了修改,与此同时,B也进行了相同的操作,但是B先一步比A保存了数据,那么当A保存数据的时候,就需要先刷新订单信息及关联的商品信息后,再将订单及商品保存。\nCascadeType.ALL\nCascade all operations，清晰明确，拥有以上所有级联操作权限。")])])])}),[],!1,null,null,null);e.default=n.exports}}]);