(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{637:function(s,a,t){"use strict";t.r(a);var e=t(1),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-需求"}},[s._v("#")]),s._v(" 1.需求")]),s._v(" "),a("blockquote",[a("p",[s._v("入参接收为Map类型\n单元测试写法？postman写法？")])]),s._v(" "),a("h2",{attrs:{id:"_2-实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现"}},[s._v("#")]),s._v(" 2.实现")]),s._v(" "),a("p",[s._v("示例：")]),s._v(" "),a("h3",{attrs:{id:"_2-1-入参接口写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-入参接口写法"}},[s._v("#")]),s._v(" 2.1.入参接口写法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' @PostMapping("/a/v1/aaa")\n    public void aMethod(@RequestParam(value = "aId") String aId,\n                                            @RequestBody Map<String, BigDecimal> map){\n        return;\n    }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_2-2-单元测试写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-单元测试写法"}},[s._v("#")]),s._v(" 2.2.单元测试写法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\t\t//构建post-Map体\n\t\tMap<String,BigDecimal> map = new HashMap<>();\n        map.put("salesPrice",new BigDecimal("12"));\n        //发送UT请求\n        restQuoteMockMvc.perform(post("/a/v1/aaa")\n            .param("aId", a.getId())\n            .contentType(MediaType.APPLICATION_JSON_UTF8)\n            .content(TestUtil.convertObjectToJsonBytes(map)))\n            .andDo(print())\n            .andExpect(status().isOk());\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_2-3-postman测试入参格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-postman测试入参格式"}},[s._v("#")]),s._v(" 2.3.postman测试入参格式")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190909182620941.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JhaW9mY2hhbw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),s._v(" "),a("h2",{attrs:{id:"附录-testutils-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录-testutils-class"}},[s._v("#")]),s._v(" 附录 TestUtils.class")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("public final class TestUtil {\n\n    private static final ObjectMapper mapper = createObjectMapper();\n   \n    public static byte[] convertObjectToJsonBytes(Object object) throws IOException {\n        return mapper.writeValueAsBytes(object);\n    }\n\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);