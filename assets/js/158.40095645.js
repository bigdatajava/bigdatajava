(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{524:function(s,n,e){"use strict";e.r(n);var a=e(5),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("1.初始化项目\n2.基于Vue技术栈进行项目开发\n3.使用Vue的第三方组件进行项目开发\n4.理解前后端分离开发模式")]),s._v(" "),n("h2",{attrs:{id:"地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#地址"}},[s._v("#")]),s._v(" 地址")]),s._v(" "),n("p",[n("code",[s._v("https://gitee.com/nylg/project/tree/master/vue-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F")])]),s._v(" "),n("h2",{attrs:{id:"_1-电商业务概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-电商业务概述"}},[s._v("#")]),s._v(" 1.电商业务概述")]),s._v(" "),n("p",[s._v("客户使用的业务服务：PC端，小程序，移动web，移动app\n管理员使用的业务服务：PC后台管理端。\nPC后台管理端的功能：管理用户账号（登录，退出，用户管理，权限管理），商品管理（商品分类，分类参数，商品信息，订单），数据统计\n电商后台管理系统采用前后端分离的开发模式\n前端项目是基于Vue的SPA（单页应用程序）项目")]),s._v(" "),n("p",[s._v("前端技术栈:Vue,Vue-Router,Element-UI,Axios,Echarts\n后端技术栈：Node.js,Express,Jwt(模拟session),Mysql,Sequelize(操作数据库的框架)")]),s._v(" "),n("h2",{attrs:{id:"_2-项目初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-项目初始化"}},[s._v("#")]),s._v(" 2.项目初始化")]),s._v(" "),n("p",[s._v("A.安装Vue脚手架\nB.通过脚手架创建项目\nC.配置路由\nD.配置Element-UI:在插件中安装，搜索vue-cli-plugin-element\nE.配置Axios：在依赖中安装,搜索axios(运行依赖)\nF.初始化git仓库\nG.将本地项目托管到github或者码云中")]),s._v(" "),n("h2",{attrs:{id:"_3-码云相关操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-码云相关操作"}},[s._v("#")]),s._v(" 3.码云相关操作")]),s._v(" "),n("p",[s._v("A.注册登录码云账号")]),s._v(" "),n("p",[s._v("B.安装git")]),s._v(" "),n("p",[s._v("C.点击网站右上角“登录”，登录码云，并进行账号设置")]),s._v(" "),n("p",[s._v("D.在本地创建公钥：在终端运行："),n("code",[s._v('ssh-keygen -t rsa -C "xxx@xxx.com"')]),s._v("\nE.找到公钥地址")]),s._v(" "),n("p",[s._v("E.打开id_rsa.pub文件，复制文件中的所有代码，点击码云中的SSH公钥，将生成的公钥复制到公钥中\nG.测试公钥：打开终端，输入命令："),n("code",[s._v("ssh -T git@gitee.com")])]),s._v(" "),n("p",[s._v("H.将本地代码托管到码云中\n点击码云右上角的+号->新建仓库")]),s._v(" "),n("p",[s._v("I.进行git配置")]),s._v(" "),n("h2",{attrs:{id:"_4-配置后台项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置后台项目"}},[s._v("#")]),s._v(" 4.配置后台项目")]),s._v(" "),n("p",[s._v("A.新建mysql数据库mydb，将vue_api_server目录"),n("code",[s._v("db")]),s._v("下的SQL导入数据库mydb;\nB.安装nodeJS，配置后台项目,从终端打开后台项目vue_api_server\n然后在终端中输入命令安装项目依赖包：npm install")]),s._v(" "),n("p",[s._v("启动后台vue_api_server项目")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm .\\app.js\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("C.使用postman测试api接口")]),s._v(" "),n("h2",{attrs:{id:"_5-实现登录功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-实现登录功能"}},[s._v("#")]),s._v(" 5.实现登录功能")]),s._v(" "),n("p",[s._v("A.登录状态保持\n如果服务器和客户端同源，建议可以使用cookie或者session来保持登录状态\n如果客户端和服务器跨域了，建议使用token进行维持登录状态。")]),s._v(" "),n("p",[s._v("B.登录逻辑：\n在登录页面输入账号和密码进行登录，将数据发送给服务器\n服务器返回登录的结果，登录成功则返回数据中带有token\n客户端得到token并进行保存，后续的请求都需要将此token发送给服务器，服务器会验证token以保证用户身份。")]),s._v(" "),n("p",[s._v("C.添加新分支login，在login分支中开发当前项目vue_shop：\n打开vue_shop终端，使用git status确定当前项目状态。\n确定当前工作目录是干净的之后，创建一个分支进行开发，开发完毕之后将其合并到master\ngit checkout -b login\n然后查看新创建的分支：git branch\n确定我们正在使用login分支进行开发")]),s._v(" "),n("p",[s._v("然后执行vue ui命令打开ui界面，然后运行serve，运行app查看当前项目效果")]),s._v(" "),n("p",[s._v("发现现在是一个默认页面，我们需要进行更改，打开项目的src目录，点击main.js文件（入口文件）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport './plugins/element.js'\n\nVue.config.productionTip = false\n\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("再打开App.vue(根组件)，将根组件的内容进行操作梳理(template中留下根节点，script中留下默认导出，去掉组件，style中去掉所有样式)")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n<\/script>\n\n<style>\n</style>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("再打开router.js(路由)，将routes数组中的路由规则清除，然后将views删除，将components中的helloworld.vue删除")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    \n  ]\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("在components文件夹中新建Login.vue组件,添加template，script，style标签,style标签中的scoped可以防止组件之间的样式冲突，没有scoped则样式是全局的")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div class="login_container">\n        \n    </div>\n</template>\n\n<script>\nexport default {\n  \n}\n<\/script>\n\n<style lang="less" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n\n</style>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("在router.js中导入组件并设置规则\n在App.vue中添加路由占位符")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const router = new Router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: Login }\n  ]\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("当我们给Login.vue中的内容添加样式的时候，会报错“缺少less-loader”，需要配置less加载器（开发依赖），安装less(开发依赖)")]),s._v(" "),n("p",[s._v("然后需要添加公共样式，在assets文件夹下面添加css文件夹，创建global.css文件,添加全局样式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("/* 全局样式表 */\nhtml,body,#app{\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0; \n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v('在main.js中导入global.css，使得全局样式生效 import "./assets/css/global.css"\n然后Login.vue中的根元素也需要设置撑满全屏（height:100%）\n最终Login.vue文件中的代码如下')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<template>\n    <div class="login_container">\n        \x3c!-- 登录盒子  --\x3e\n        <div class="login_box">\n            \x3c!-- 头像 --\x3e\n            <div class="avatar_box">\n                <img src="../assets/logo.png" alt="">\n            </div>\n            \x3c!-- 登录表单 --\x3e\n            <el-form :model="loginForm" ref="LoginFormRef" :rules="loginFormRules" label-width="0px" class="login_form">\n                \x3c!-- 用户名 --\x3e\n                <el-form-item prop="username">\n                    <el-input v-model="loginForm.username" prefix-icon="iconfont icon-user" ></el-input>\n                </el-form-item> \n                \x3c!-- 密码 --\x3e\n                <el-form-item prop="password">\n                    <el-input type="password" v-model="loginForm.password" prefix-icon="iconfont icon-3702mima"></el-input>\n                </el-form-item> \n                \x3c!-- 按钮 --\x3e\n                <el-form-item class="btns">\n                    <el-button type="primary" @click="login">登录</el-button>\n                    <el-button type="info" @click="resetLoginForm">重置</el-button>\n                </el-form-item> \n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //数据绑定\n      loginForm: {\n        username: \'admin\',\n        password: \'123456\'\n      },\n      //表单验证规则\n      loginFormRules: {\n        username: [\n          { required: true, message: \'请输入登录名\', trigger: \'blur\' },\n          {\n            min: 3,\n            max: 10,\n            message: \'登录名长度在 3 到 10 个字符\',\n            trigger: \'blur\'\n          }\n        ],\n        password: [\n          { required: true, message: \'请输入密码\', trigger: \'blur\' },\n          {\n            min: 6,\n            max: 15,\n            message: \'密码长度在 6 到 15 个字符\',\n            trigger: \'blur\'\n          }\n        ]\n      }\n    }\n  },\n  //添加行为，\n  methods: {\n    //添加表单重置方法\n    resetLoginForm() {\n      //this=>当前组件对象，其中的属性$refs包含了设置的表单ref\n      //   console.log(this)\n      this.$refs.LoginFormRef.resetFields()\n    },\n    login() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.LoginFormRef.validate(async valid => {\n        console.log(this.loginFormRules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post(\'login\', this.loginForm)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'登录失败:\' + res.meta.msg) //console.log("登录失败:"+res.meta.msg)\n        }\n\n        this.$message.success(\'登录成功\')\n        console.log(res)\n        //保存token\n        window.sessionStorage.setItem(\'token\', res.data.token)\n        // 导航至/home\n        this.$router.push(\'/home\')\n      })\n    }\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n.login_box {\n  width: 450px;\n  height: 300px;\n  background: #fff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  .avatar_box {\n    height: 130px;\n    width: 130px;\n    border: 1px solid #eee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0 0 10px #ddd;\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #fff;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eee;\n    }\n  }\n}\n.login_form {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.btns {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br")])]),n("p",[s._v("其中我们有用到一下内容，需要进行进一步处理：")]),s._v(" "),n("p",[s._v("A.添加element-ui的表单组件\n在plugins文件夹中打开element.js文件，进行elementui的按需导入")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport { Button } from 'element-ui'\nimport { Form, FormItem } from 'element-ui'\nimport { Input } from 'element-ui'\n\nVue.use(Button)\nVue.use(Form)\nVue.use(FormItem)\nVue.use(Input)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("B.添加第三方字体\n复制素材中的fonts文件夹到assets中,在入口文件main.js中导入"),n("code",[s._v("import './assets/fonts/iconfont.css'")]),s._v("\n然后直接在 "),n("code",[s._v('<el-input prefix-icon="iconfont icon-3702mima"></el-input>')]),s._v("\n接着添加登录盒子")]),s._v(" "),n("p",[s._v("C.添加表单验证的步骤\n1).给"),n("code",[s._v("<el-form>")]),s._v('添加属性:rules="rules"，rules是一堆验证规则，定义在script、中\n2).在script中添加rules：')]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default{ data(){return{......, rules: {\n          name: [\n            { required: true, message: '请输入活动名称', trigger: 'blur' },\n            { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n          ],\n          region: [\n            { required: true, message: '请选择活动区域', trigger: 'change' }\n          ]\n}......\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("3).通过"),n("code",[s._v("<el-form-item>")]),s._v("的prop属性设置验证规则"),n("code",[s._v('<el-form-item label="活动名称" prop="name">')])]),s._v(" "),n("p",[s._v("4.导入axios以发送ajax请求\n打开main.js，"),n("code",[s._v("import axios from 'axios';")]),s._v("\n设置请求的根路径："),n("code",[s._v("axios.defaults.baseURL = 'http://127.0.0.1:8888/api/private/v1/';")]),s._v("\n挂载axios："),n("code",[s._v("Vue.prototype.$http = axios;")])]),s._v(" "),n("p",[s._v("5.配置弹窗提示：\n在plugins文件夹中打开element.js文件，进行elementui的按需导入\n"),n("code",[s._v("import {Message} from 'element-ui'")]),s._v("\n进行全局挂载："),n("code",[s._v("Vue.prototype.$message = Message;")]),s._v("\n在login.vue组件中编写弹窗代码："),n("code",[s._v("this.$message.error('登录失败')")])]),s._v(" "),n("h2",{attrs:{id:"_6-登录成功之后的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-登录成功之后的操作"}},[s._v("#")]),s._v(" 6.登录成功之后的操作")]),s._v(" "),n("p",[s._v("A.登录成功之后，需要将后台返回的token保存到sessionStorage中\n操作完毕之后，需要跳转到/home")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("login() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.LoginFormRef.validate(async valid => {\n        console.log(this.loginFormRules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post('login', this.loginForm)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error('登录失败:' + res.meta.msg) //console.log(\"登录失败:\"+res.meta.msg)\n        }\n\n        this.$message.success('登录成功')\n        console.log(res)\n        //保存token\n        window.sessionStorage.setItem('token', res.data.token)\n        // 导航至/home\n        this.$router.push('/home')\n      })\n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("p",[s._v("添加一个组件Home.vue，并为之添加规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<template>\n    <div>\n        this is home\n        <el-button type=\"info\" @click=\"logout\"> 退出 </el-button>\n    </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    logout() {\n      window.sessionStorage.clear()\n      this.$router.push('/login')\n    }\n  }\n}\n<\/script>\n\n<style lang='less' scoped>\n</style>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("p",[s._v("添加路由规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const router = new Router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: Login },\n    { path: '/home', component: Home }\n  ]\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("添加路由守卫\n如果用户没有登录，不能访问/home,如果用户通过url地址直接访问，则强制跳转到登录页面\n打开router.js")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from './components/Login.vue'\nimport Home from './components/Home.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    { path:'/', redirect:'/login'},\n    { path:'/login' , component:Login },\n    { path:'/home' , component:Home}\n  ]\n})\n\n//挂载路由导航守卫,to表示将要访问的路径，from表示从哪里来，next是下一个要做的操作\nrouter.beforeEach((to,from,next)=>{ \n  if(to.path === '/login')\n    return next();\n  \n  //获取token\n  const tokenStr = window.sessionStorage.getItem('token');\n\n  if(!tokenStr)\n    return next('/login');\n\n  next();\n\n})\n\nexport default router \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("p",[s._v("实现退出功能\n在Home组件中添加一个退出功能按钮,给退出按钮添加点击事件，添加事件处理代码如下：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export default {\n    methods:{\n        logout(){\n            window.sessionStorage.clear();\n            this.$router.push('/login');\n        }\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"补充"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[s._v("#")]),s._v(" 补充")]),s._v(" "),n("p",[s._v("A.处理ESLint警告\n打开脚手架面板，查看警告信息\n[图片]\n默认情况下，ESLint和vscode格式化工具有冲突，需要添加配置文件解决冲突。\n在项目根目录添加 .prettierrc 文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n    "semi":false,\n    "singleQuote":true\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("打开.eslintrc.js文件，禁用对 space-before-function-paren 的检查:")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  rules: {\n    'no-console': process.env.NODE_ENV === 'production' ? 'error' : 'off',\n    'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off',\n    'space-before-function-paren' : 0\n  },\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("B.合并按需导入的element-ui")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import Vue from 'vue'\nimport { Button, Form, FormItem, Input, Message } from 'element-ui'\n\nVue.use(Button)\nVue.use(Form)\nVue.use(FormItem)\nVue.use(Input)\n// 进行全局挂载：\nVue.prototype.$message = Message\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v('C.将代码提交到码云\n新建一个项目终端,输入命令‘git status’查看修改过的与新增的文件内容\n将所有文件添加到暂存区：git add .\n将所有代码提交到本地仓库：git commit -m "添加登录功能以及/home的基本结构"\n查看分支： git branch  发现所有代码都被提交到了login分支\n将login分支代码合并到master主分支，先切换到master：git checkout master\n在master分支进行代码合并：git merge login\n将本地的master推送到远端的码云：git push')]),s._v(" "),n("p",[s._v("推送本地的子分支到码云，先切换到子分支：git checkout 分支名\n然后推送到码云：git push -u origin 远端分支名")])])}),[],!1,null,null,null);n.default=t.exports}}]);