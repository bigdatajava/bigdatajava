(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{398:function(s,t,a){"use strict";a.r(t);var e=a(5),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux安装mysql"}},[s._v("#")]),s._v(" linux安装MySQL")]),s._v(" "),t("h2",{attrs:{id:"_1-自定义mysql安装版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-自定义mysql安装版本"}},[s._v("#")]),s._v(" 1. 自定义MySQL安装版本")]),s._v(" "),t("p",[s._v("MySQL服务器和其他所需组件的安装和升级，都来自您在安装配置包期间选择的主要版本的发行版系列。但是，您可以通过重新配置已安装的配置包，随时切换到另一个受支持的主要版本系列")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo dpkg-reconfigure mysql-apt-config")])]),s._v(" "),t("p",[s._v("然后会出现一个对话框，要求您选择所需的主要版本。做出选择并选择"),t("strong",[s._v("确定")]),s._v("。返回到命令提示符后，使用以下命令从MySQL APT存储库更新包信息")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo apt-get update")])]),s._v(" "),t("p",[s._v("下次使用"),t("strong",[s._v("apt-get install")]),s._v("命令时，将安装所选系列中的最新版本。")]),s._v(" "),t("p",[s._v("您可以使用相同的方法更改要使用MySQL APT存储库安装的任何其他MySQL组件的版本。")]),s._v(" "),t("h2",{attrs:{id:"_2-apt方式安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-apt方式安装"}},[s._v("#")]),s._v(" 2. apt方式安装")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo apt-get install mysql-server")])]),s._v(" "),t("h2",{attrs:{id:"_3-常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-常用命令"}},[s._v("#")]),s._v(" 3. 常用命令")]),s._v(" "),t("h3",{attrs:{id:"_3-1-查看服务状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-查看服务状态"}},[s._v("#")]),s._v(" 3.1 查看服务状态")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo service mysql status")])]),s._v(" "),t("h3",{attrs:{id:"_3-2-停止服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-停止服务"}},[s._v("#")]),s._v(" 3.2. 停止服务")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo service mysql stop")])]),s._v(" "),t("h3",{attrs:{id:"_3-3-启动服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-启动服务"}},[s._v("#")]),s._v(" 3.3. 启动服务")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo service mysql start")])]),s._v(" "),t("h2",{attrs:{id:"_4-设置登陆密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-设置登陆密码"}},[s._v("#")]),s._v(" 4. 设置登陆密码")]),s._v(" "),t("h3",{attrs:{id:"_4-1-找到-mysqld-段-并加入一行-skip-grant-tables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-找到-mysqld-段-并加入一行-skip-grant-tables"}},[s._v("#")]),s._v(" 4.1 找到[mysqld]段，并加入一行“skip-grant-tables”")]),s._v(" "),t("blockquote",[t("p",[s._v("sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf")])]),s._v(" "),t("h3",{attrs:{id:"_4-2-登陆进去使用mysql表-修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-登陆进去使用mysql表-修改密码"}},[s._v("#")]),s._v(" 4.2 登陆进去使用mysql表，修改密码")]),s._v(" "),t("blockquote",[t("p",[s._v("$ mysql")]),s._v(" "),t("p",[s._v("mysql> use mysql")]),s._v(" "),t("p",[s._v("mysql> update mysql.user set authentication_string=password('123456') where user='root' and Host ='localhost';")]),s._v(" "),t("p",[s._v('mysql> update user set plugin="mysql_native_password";')]),s._v(" "),t("p",[s._v("mysql> flush privileges;")]),s._v(" "),t("p",[s._v("mysql> quit;")])]),s._v(" "),t("h3",{attrs:{id:"_4-3-回到sudo-vi-etc-mysql-mysql-conf-d-mysqld-cnf-把刚才加入的那一行-skip-grant-tables-注释或删除掉。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-回到sudo-vi-etc-mysql-mysql-conf-d-mysqld-cnf-把刚才加入的那一行-skip-grant-tables-注释或删除掉。"}},[s._v("#")]),s._v(" 4.3 回到sudo vi  /etc/mysql/mysql.conf.d/mysqld.cnf，把刚才加入的那一行“skip-grant-tables”注释或删除掉。")]),s._v(" "),t("h3",{attrs:{id:"_4-4-再次重启mysql服务sudo-service-mysql-restart-使用新的密码登陆-修改成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-再次重启mysql服务sudo-service-mysql-restart-使用新的密码登陆-修改成功"}},[s._v("#")]),s._v(" 4.4 再次重启mysql服务sudo service mysql restart，使用新的密码登陆，修改成功")]),s._v(" "),t("h2",{attrs:{id:"_5-开启远程登陆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-开启远程登陆"}},[s._v("#")]),s._v(" 5. 开启远程登陆")]),s._v(" "),t("ol",[t("li",[t("p",[s._v('打开/etc/mysql/mysql.conf.d/mysqld.cnf, 注掉 "bind-address = 127.0.0.1",')])]),s._v(" "),t("li",[t("p",[s._v("重启 service mysql  restart")])]),s._v(" "),t("li",[t("p",[s._v("执行:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("GRANT ALL PRIVILEGES ON *.* TO 'USERNAME'@'%' IDENTIFIED BY 'PASSWORD' WITH GRANT OPTION;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("p",[s._v("注意: 这里的USERNAME是你的数据库账户，PASSWORD是你的数据库密码")]),s._v(" "),t("p",[s._v("例如: mysql> GRANT ALL PRIVILEGES ON "),t("em",[s._v(".")]),s._v(" TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION;")]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[t("p",[s._v("执行: mysql> FLUSH PRIVILEGES;")])]),s._v(" "),t("li",[t("p",[s._v("OK")])])]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"_6-mysql-8修改用户名密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-mysql-8修改用户名密码"}},[s._v("#")]),s._v(" 6.MySQL 8修改用户名密码")]),s._v(" "),t("blockquote",[t("p",[s._v("用root登录报错1045密码不正确原因。新版本mysql关闭了root用户登录，所以新建个同root权限一样的用户即可。")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("创建新用户，举例：用户名test,密码test_pwd\ncreate user test; \n授权\nGRANT ALL ON *.* TO 'test'@'%';\n更新密码\nALTER USER 'test'@'%' IDENTIFIED WITH mysql_native_password BY 'test_pwd';\n刷新权限\n flush privileges;\n然后就可以用test用户登陆了！！！！\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);