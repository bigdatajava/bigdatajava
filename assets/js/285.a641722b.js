(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{653:function(n,e,s){"use strict";s.r(e);var t=s(5),r=Object(t.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"ç®€ä»‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[n._v("#")]),n._v(" ç®€ä»‹")]),n._v(" "),e("p",[e("strong",[n._v("è¯´æ˜")])]),n._v(" "),e("p",[n._v("æœ¬æ–‡ç”¨ç¤ºä¾‹ä»‹ç»è§‚å¯Ÿè€…æ¨¡å¼çš„æœ€å¥½çš„å†™æ³•ï¼šSpringäº‹ä»¶ã€‚æ­¤æ–¹æ³•æ˜¯é¡¹ç›®ä¸­"),e("strong",[n._v("æœ€æ¨èçš„å†™æ³•")]),n._v("ï¼")]),n._v(" "),e("p",[e("strong",[n._v("Springäº‹ä»¶å’Œä¼ ç»Ÿè§‚å¯Ÿè€…æ¨¡å¼çš„æ¦‚å¿µçš„åŒºåˆ«")])]),n._v(" "),e("table",[e("thead",[e("tr",[e("th",[e("strong",[n._v("ä¼ ç»Ÿè§‚å¯Ÿè€…æ¨¡å¼")])]),n._v(" "),e("th",[e("strong",[n._v("Springäº‹ä»¶")])])])]),n._v(" "),e("tbody",[e("tr",[e("td",[n._v("ä¸»é¢˜")]),n._v(" "),e("td",[n._v("äº‹ä»¶")])]),n._v(" "),e("tr",[e("td",[n._v("è§‚å¯Ÿè€…")]),n._v(" "),e("td",[n._v("ç›‘å¬å™¨")])])])]),n._v(" "),e("p",[e("strong",[n._v("ä¼˜ç¼ºç‚¹")])]),n._v(" "),e("p",[n._v("ä¼˜ç‚¹")]),n._v(" "),e("ol",[e("li",[n._v("ç­–ç•¥ç±»ä¼šè‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€æ‰‹åŠ¨æ³¨å†Œç­–ç•¥ç±»ã€‚")]),n._v(" "),e("li",[n._v("å¯ä»¥æ–¹ä¾¿åœ°æŒ‡å®šè§‚å¯Ÿè€…çš„æ‰§è¡Œé¡ºåºã€‚ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ä¸€èˆ¬ä¸éœ€è¦æŒ‡å®šé¡ºåºï¼Œä½†å¯ä»¥æŒ‡å®šå½“ç„¶æ›´å¥½å•¦ï¼ï¼‰")])]),n._v(" "),e("p",[n._v("ç¼ºç‚¹")]),n._v(" "),e("p",[n._v("æ— ")]),n._v(" "),e("h1",{attrs:{id:"å®æˆ˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜"}},[n._v("#")]),n._v(" å®æˆ˜")]),n._v(" "),e("p",[n._v("æœ¬å¤„ä½¿ç”¨ä¸€ä¸ªè´´è¿‘çœŸå®åœºæ™¯çš„æ¡ˆä¾‹ï¼šè®¢å•å–æ¶ˆæ—¶ï¼Œè¦æœ‰ä¸€ç³»åˆ—æ“ä½œï¼Œæ¯”å¦‚ï¼šè´¦æˆ·ä¸šåŠ¡éœ€è¦ç»™ç”¨æˆ·é€€é’±ã€åº“å­˜ä¸šåŠ¡éœ€è¦ç»™å•†å“é€€å›æ•°é‡ã€‚")]),n._v(" "),e("p",[n._v("åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå–æ¶ˆè®¢å•å°±æ˜¯äº‹ä»¶ï¼Œè´¦æˆ·ä¸šåŠ¡å’Œåº“å­˜ä¸šåŠ¡æ˜¯ç›‘å¬å™¨ã€‚")]),n._v(" "),e("p",[n._v("é¡¹ç›®ç»“æ„ï¼š")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://404500.oss-cn-beijing.aliyuncs.com/picture/springboot/image-20230912175005837.png",alt:"image-20230912175005837"}})]),n._v(" "),e("h2",{attrs:{id:"ä»£ç "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç "}},[n._v("#")]),n._v(" ä»£ç ")]),n._v(" "),e("p",[e("strong",[n._v("æºç ä¸‹è½½")])]),n._v(" "),e("p",[e("a",{attrs:{href:"https://resource.skyofit.com/learn/resource/project/backend/design-pattern/observer/spring-event.zip",target:"_blank",rel:"noopener noreferrer"}},[n._v("è¿™é‡Œ"),e("OutboundLink")],1)]),n._v(" "),e("h2",{attrs:{id:"ä¸šåŠ¡æ•°æ®ç±»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡æ•°æ®ç±»"}},[n._v("#")]),n._v(" ä¸šåŠ¡æ•°æ®ç±»")]),n._v(" "),e("p",[n._v("å–æ¶ˆè®¢å•æ—¶ï¼Œä¼šå°†è¿™ä¸ªæ•°æ®åŒ…è£…ä¸ºäº‹ä»¶ï¼Œç»™åˆ°æ„Ÿå…´è¶£çš„ç›‘å¬å™¨ã€‚")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("package com.knife.designPattern.bo;\nimport lombok.Data;\n@Data\npublic class CancelOrderBO {\n    private String orderNo;\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br")])]),e("h2",{attrs:{id:"äº‹ä»¶"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶"}},[n._v("#")]),n._v(" äº‹ä»¶")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("package com.knife.designPattern.event;\nimport org.springframework.context.ApplicationEvent;\npublic class CancelOrderEvent extends ApplicationEvent {\n    public CancelOrderEvent(Object source) {\n        super(source);\n    }\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br")])]),e("p",[n._v("è¿™é‡Œè¿˜éœ€è¦ä¸€ä¸ªäº‹ä»¶å‘å¸ƒå™¨ï¼š")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("package com.knife.designPattern.springEvent.publisher;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationEvent;\nimport org.springframework.stereotype.Component;\n@Component\npublic class EventPublisher {\n    @Autowired\n    private ApplicationContext applicationContext;\n    public void publish(ApplicationEvent event) {\n        applicationContext.publishEvent(event);\n    }\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br")])]),e("h2",{attrs:{id:"ç›‘å¬å™¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘å¬å™¨"}},[n._v("#")]),n._v(" ç›‘å¬å™¨")]),n._v(" "),e("p",[n._v("è´¦æˆ·ä¸šåŠ¡ç›‘å¬å™¨")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('package com.knife.designPattern.listener;\nimport com.knife.designPattern.event.CancelOrderEvent;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Component;\n@Component\npublic class AccountCancelOrderListener implements ApplicationListener<CancelOrderEvent>,  Ordered {\n    @Override\n    public void onApplicationEvent(CancelOrderEvent event) {\n        System.out.println("è´¦æˆ·ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š" + event.getSource());\n    }\n    @Override\n    public int getOrder() {\n        return 2;\n    }\n}\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br")])]),e("p",[n._v("åº“å­˜ä¸šåŠ¡ç›‘å¬å™¨")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('package com.knife.designPattern.listener;\nimport com.knife.designPattern.event.CancelOrderEvent;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Component;\n@Component\npublic class StorageCancelOrderListener implements ApplicationListener<CancelOrderEvent>, Ordered {\n    public void onApplicationEvent(CancelOrderEvent event) {\n        System.out.println("åº“å­˜ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼š" + event.getSource());\n    }\n    @Override\n    public int getOrder() {\n        return 1;\n    }\n}\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br")])]),e("p",[n._v("ç»†å¿ƒçš„åŒå­¦å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œè¿™é‡Œå®ç°äº†Orderedæ¥å£ã€‚æ˜¯çš„ï¼Œè¿™ç§æ–¹å¼æ”¯æŒç›‘å¬å™¨æ‰§è¡Œçš„é¡ºåºï¼ŒgetOrder()è¿”å›çš„å€¼è¶Šå°è¶Šå…ˆæ‰§è¡Œã€‚å¦‚æœä¸éœ€è¦æ§åˆ¶é¡ºåºï¼Œå¯ä»¥ä¸å®ç°Orderedæ¥å£ã€‚")]),n._v(" "),e("h1",{attrs:{id:"æµ‹è¯•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•"}},[n._v("#")]),n._v(" æµ‹è¯•")]),n._v(" "),e("p",[n._v("æµ‹è¯•ç±»")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('package com.knife.designPattern.controller;\nimport com.knife.designPattern.publisher.EventPublisher;\nimport com.knife.designPattern.bo.CancelOrderBO;\nimport com.knife.designPattern.event.CancelOrderEvent;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n@Api(tags = "è®¢å•")\n@RestController\n@RequestMapping("order")\npublic class OrderController {\n    @Autowired\n    private EventPublisher eventPublisher;\n    @ApiOperation("å–æ¶ˆè®¢å•")\n    @PostMapping("cancel")\n    public String cancel(@RequestBody CancelOrderBO cancelOrderBO) {\n        eventPublisher.publish(new CancelOrderEvent(cancelOrderBO));\n        return "success";\n    }\n}\n')])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br")])]),e("p",[n._v("è®¿é—®æ¥å£")]),n._v(" "),e("p",[n._v("å¯åŠ¨é¡¹ç›®åï¼Œè®¿é—®Knife4jï¼ˆæ¥å£æ–‡æ¡£ï¼‰çš„åœ°å€ï¼šhttp://localhost:8080/doc.html")]),n._v(" "),e("p",[n._v("ï¼ˆå½“ç„¶ï¼Œä½ ç”¨postmanä¹Ÿå®Œå…¨å¯ä»¥ï¼‰")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://404500.oss-cn-beijing.aliyuncs.com/picture/springboot/image-20230912175058655.png",alt:"image-20230912175058655"}})]),n._v(" "),e("p",[n._v("ç»“æœ")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("åº“å­˜ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼šCancelOrderBO(orderNo=2255)\nè´¦æˆ·ä¸šåŠ¡å¼€å§‹å¤„ç†è®¢å•å–æ¶ˆã€‚æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼šCancelOrderBO(orderNo=2255)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("p",[n._v("â€‹\t\t\t\t\t\t\t\t\t[ 1](javascript:ğŸ˜‰")])])}),[],!1,null,null,null);e.default=r.exports}}]);