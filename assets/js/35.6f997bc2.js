(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{402:function(s,a,n){"use strict";n.r(a);var e=n(5),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("不推荐更改MySQL安装目录 /usr/local/mysql")]),s._v(" "),a("p",[s._v("因为：")]),s._v(" "),a("p",[s._v("如果MySQL安装目录不是在/usr/local/mysql下，运行后面的MySQL启动命令将会报错：Starting MySQL ERROR! Couldn't find MySQL server (/usr/local/mysql/bin/mysqld_safe)")]),s._v(" "),a("p",[s._v("原因：查看/mysql/support-files/mysql.server脚本内容可知：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# If you install MySQL on some other places than /usr/local/mysql, then you\n# have to do one of the following things for this script to work:\n#\n# - Run this script from within the MySQL installation directory\n# - Create a /etc/my.cnf file with the following information:\n#   [mysqld]\n#   basedir=<path-to-mysql-installation-directory>\n# - Add the above to any other configuration file (for example ~/.my.ini)\n#   and copy my_print_defaults to /usr/bin\n# - Add the path to the mysql-installation-directory to the basedir variable\n#   below.\n#\n# If you want to affect other MySQL variables, you should make your changes\n# in the /etc/my.cnf, ~/.my.cnf or other MySQL configuration files.\n\n# If you change base dir, you must also change datadir. These may get\n# overwritten by settings in the MySQL configuration files.\n\nbasedir=\ndatadir=\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("所以需要自己额外配置路径，如果错误，故不推荐更改MySQL安装位置")]),s._v(" "),a("p",[s._v("解决方案：在 "),a("code",[s._v("/etc/my.cnf")]),s._v("文件中添加如下两项参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 自己的MySQL安装目录\nbasedir=/usr/local/soft/mysql/mysql\n# datadir如果不写的话，会默认使用 basedir/data目录\ndatadir=/usr/local/soft/mysql/mysql/data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("h2",{attrs:{id:"检查服务器是否已经安装了mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查服务器是否已经安装了mysql"}},[s._v("#")]),s._v(" 检查服务器是否已经安装了MySQL")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rpm -qa |grep mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"卸载mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载mysql"}},[s._v("#")]),s._v(" 卸载MySQL")]),s._v(" "),a("p",[s._v("对第1步查询出来的MySQL分别执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum remove mysql-5.1.73-8.el6_8.x86_64\n\nyum remove mysql-libs-5.1.73-8.el6_8.x86_64\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"检查mysql是否卸载完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查mysql是否卸载完成"}},[s._v("#")]),s._v(" 检查MySQL是否卸载完成")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 如果没有任何结果表明MySQL已经卸载完\nrpm -qa |grep mysql \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("查询MySQL对应的目录或文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("whereis mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("删除查询出来的目录或文件")]),s._v(" "),a("h2",{attrs:{id:"检查mysql用户组和用户是否存在"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#检查mysql用户组和用户是否存在"}},[s._v("#")]),s._v(" 检查MySQL用户组和用户是否存在")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat /etc/group | grep mysql\n\ncat /etc/passwd |grep mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("创建MySQL用户组和用户（如果第6步没有结果，那么执行此步）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("groupadd mysql\n\nuseradd -r -g mysql mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),a("p",[s._v("从官方网站或华为镜像站下载MySQL包mysql-5.7.37-linux-glibc2.12-x86_64.tar.gz并放到/usr/local目录下")]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("1、进入/usr/local执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("tar -xzvf mysql-5.7.24-linux-glibc2.12-x86_64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2、将解压后的文件夹改名，进入/usr/local执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mv mysql-5.7.24-linux-glibc2.12-x86_64 mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3、创建data目录")]),s._v(" "),a("p",[s._v("进入/usr/local/mysql执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("4、更改MySQL所有的目录、文件所属的用户组、用户、访问权限")]),s._v(" "),a("p",[s._v("进入/usr/local分别执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chown -R mysql:mysql /usr/local/mysql\n\nchmod -R 755 /usr/local/mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("5、安装")]),s._v(" "),a("blockquote",[a("p",[s._v("一定要记住安装日志文末的密码")])]),s._v(" "),a("p",[s._v("进入/usr/local/mysql/bin执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("./mysqld --initialize --user=mysql --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql        \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("6、添加配置文件my.cnf")]),s._v(" "),a("p",[s._v("进入"),a("code",[s._v("/etc")]),s._v("执行：vim my.cnf，然后将下面的内容复制到配置文件中")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[mysqld]\nbasedir=/usr/local/mysql\ndatadir=/usr/local/mysql/data\nsocket=/usr/local/mysql/data/mysql.sock\nport = 3306\n\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\nsymbolic-links=0\n\nmax_connections=400\n\ninnodb_file_per_table=1\n\nlower_case_table_names=1\n# 加此参数，使所有IP都能访问此mysql\nbind-address=0.0.0.0\n\n[mysql]\nsocket=/usr/local/mysql/data/mysql.sock\n[client]\nsocket=/usr/local/mysql/data/mysql.sock\n[mysqldump]\nsocket=/usr/local/mysql/data/mysql.sock\n[mysqladmin]\nsocket=/usr/local/mysql/data/mysql.sock\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h2",{attrs:{id:"修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql>set password=password(\"123456\");\nmysql>grant all privileges on *.* to 'root'@'%' identified by '123456';\nmysql>flush privileges;\nmysql>set global show_compatibility_56=on;\nmysql>quit;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),a("p",[s._v("进入/usr/local/mysql执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("support-files/mysql.server start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"其他命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他命令"}},[s._v("#")]),s._v(" 其他命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("服务停止：support-files/mysql.server stop\n进入客户端：bin/mysql -uroot -p\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"安装报错解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装报错解决"}},[s._v("#")]),s._v(" 安装报错解决")]),s._v(" "),a("h3",{attrs:{id:"问题1-starting-mysql-error-couldn-t-find-mysql-server-usr-local-mysql-bin-mysqld-safe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题1-starting-mysql-error-couldn-t-find-mysql-server-usr-local-mysql-bin-mysqld-safe"}},[s._v("#")]),s._v(" 问题1：Starting MySQL ERROR! Couldn't find MySQL server (/usr/local/mysql/bin/mysqld_safe)")]),s._v(" "),a("blockquote",[a("p",[s._v("如果MySQL安装目录不是在/usr/local/mysql下，运行上面命令将会报错：Starting MySQL ERROR! Couldn't find MySQL server (/usr/local/mysql/bin/mysqld_safe)")]),s._v(" "),a("p",[s._v("原因：查看/mysql/support-files/mysql.server脚本内容可知：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# If you install MySQL on some other places than /usr/local/mysql, then you\n# have to do one of the following things for this script to work:\n#\n# - Run this script from within the MySQL installation directory\n# - Create a /etc/my.cnf file with the following information:\n#   [mysqld]\n#   basedir=<path-to-mysql-installation-directory>\n# - Add the above to any other configuration file (for example ~/.my.ini)\n#   and copy my_print_defaults to /usr/bin\n# - Add the path to the mysql-installation-directory to the basedir variable\n#   below.\n#\n# If you want to affect other MySQL variables, you should make your changes\n# in the /etc/my.cnf, ~/.my.cnf or other MySQL configuration files.\n\n# If you change base dir, you must also change datadir. These may get\n# overwritten by settings in the MySQL configuration files.\n\nbasedir=\ndatadir=\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("所以需要自己额外配置，故不推荐更改MySQL安装位置")]),s._v(" "),a("p",[s._v("解决方案：在 "),a("code",[s._v("/etc/my.cnf")]),s._v("文件中添加如下两项参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 自己的MySQL安装目录\nbasedir=/usr/local/soft/mysql/mysql\n# datadir如果不写的话，会默认使用 basedir/data目录\ndatadir=/usr/local/soft/mysql/mysql/data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"问题2-can-t-connect-to-local-mysql-server-through-socket-tmp-mysql-sock-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题2-can-t-connect-to-local-mysql-server-through-socket-tmp-mysql-sock-2"}},[s._v("#")]),s._v(" 问题2：Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)")]),s._v(" "),a("p",[s._v("现象：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@localhost mysql]# bin/mysql -uroot -p\nEnter password: \nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("解决：在/etc/my.cnf加入如下参数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[mysqld]\nsocket=/usr/local/mysql/data/mysql.sock\n[mysql]\nsocket=/usr/local/mysql/data/mysql.sock\n[client]\nsocket=/usr/local/mysql/data/mysql.sock\n[mysqldump]\nsocket=/usr/local/mysql/data/mysql.sock\n[mysqladmin]\nsocket=/usr/local/mysql/data/mysql.sock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("blockquote",[a("p",[s._v("这是由于连接Mysql服务时，会优先使用“sock文件”进行连接，而不是使用“IP:端口”进行连接，而mysql尝试使用“sock文件”进行连接时，却无法获取“sock文件”的位置。")]),s._v(" "),a("p",[s._v('我们只要修改my.cnf文件,告诉mysql，mysqldump，mysqladmin等mysql服务的socket位置在哪里就可以了，文件中可以看出，我的socket文件位置为："/usr/local/mysql/data/mysql.sock"。')])]),s._v(" "),a("h3",{attrs:{id:"问题3-本机之外的ip不能访问mysql服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题3-本机之外的ip不能访问mysql服务"}},[s._v("#")]),s._v(" 问题3：本机之外的IP不能访问mysql服务")]),s._v(" "),a("p",[s._v("在/etc/my.cnf中添加：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 加此参数，使所有IP都能访问此mysql\nbind-address=0.0.0.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);