(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{356:function(a,t,s){"use strict";s.r(t);var e=s(1),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"springboot-2-0-启动报错-failed-to-auto-configure-a-datasource"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot-2-0-启动报错-failed-to-auto-configure-a-datasource"}},[a._v("#")]),a._v(" springboot 2.0 启动报错 Failed to auto-configure a DataSource")]),a._v(" "),t("h3",{attrs:{id:"原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[a._v("#")]),a._v(" 原因")]),a._v(" "),t("p",[a._v("在pom中添加了mybatis，mysql依赖后，如果application.properties中没有配置数据库连接方面的配置，则会报错：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("这是因为添加了数据库组件，所以autoconfig会去读取数据源配置，而我新建的项目还没有配置数据源，所以会导致异常出现。\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nFailed to auto-configure a DataSource: 'spring.datasource.url' is not specified and no embedded datasource could be auto-configured.\nReason: Failed to determine a suitable driver class\nAction:\nConsider the following:\nIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n\nIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h3",{attrs:{id:"解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[a._v("#")]),a._v(" 解决方法")]),a._v(" "),t("h4",{attrs:{id:"_1-在启动类中加注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-在启动类中加注解"}},[a._v("#")]),a._v(" 1.在启动类中加注解")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("在启动类的 @EnableAutoConfiguration 或 @SpringBootApplication 中添加\nexclude = {DataSourceAutoConfiguration.class}，排除此类的autoconfig。启动以后就可以正常运行。\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h4",{attrs:{id:"_2-在配置文件application-properties中添加数据源配置-或在pon-xml去除maven依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-在配置文件application-properties中添加数据源配置-或在pon-xml去除maven依赖"}},[a._v("#")]),a._v(" 2.在配置文件application.properties中添加数据源配置，或在pon.xml去除maven依赖")])])}),[],!1,null,null,null);t.default=n.exports}}]);